# debos-recipes

Sample recipes for [debos](https://github.com/go-debos/debos). Feel free to modify
the recipes. Merge Requests are welcome!


## Recipes

These recipes are designed to be generic so they may used as a basis for many
different projects, but will need some additional customisation. Think of these
recipes as a starting point rather than a final product!

`ospack-debian.yaml` builds a Generic Debian tarball; which has some services
installed and a user account created. The ospack out-of-the-box has `systemd`
installed and some basic services like `systemd-networkd`, `systemd-timesyncd`,
`systemd-resolved` configured.

`image-uefi.yaml` takes a Debian ospack tarball (generated by `ospack-debian`)
and builds an image with systemd-boot EFI bootloader and the Linux Kernel.

## Building recipes

To build a Debian Bookworm image, run:

```
debos --artifactdir=out -t suite:bookworm ospack-debian.yaml
debos --artifactdir=out -t suite:bookworm image-uefi.yaml
```

The image could then be written to a block device and run on real hardware.

## Legacy recipes

The recipes below are legacy and need reworking to use the new recipe format. They
may be removed from the repository in the near future.

* `debian/armhf/image-wb` contains a recipe for building an image for iMX 6 Wandboard.
* `pine-a64-plus` contains a recipe for building an image for the Pine A64.
* `rpi3` contains a recipe for building an image for `stretch`.
* `rpi64` contains a recipe for building an unified image for Raspberry Pi 3 and 4.
  It has been tested with `bullseye` and `sid` by using additional parameters:
  `debos -t suite:sid -t kernel:linux-image-5.8.0-1-arm64-unsigned rpi64/debimage-rpi64.yaml`
  Use login 'user' with password 'user' to log in.
* `lepotato` contains a recipe for building an image for `bookworm`.

Initial recipes for Debian are based on previous work located at https://git.apertis.org/cgit/apertis-workshop.git
